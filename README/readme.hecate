1. login
	ssh -l your_id hecate.princeton.edu

2. code
	svn co svn+ssh://username@portal.pppl.gov/p/tsc/C1/svn

3. load modules 
	module load mpt/intel
	module load intel/13.1/64/13.1.3.163
	module load hdf5/intel-12.1/mpt/1.8.5
	setenv PETSC_DIR /home/jinchen/lib/petsc-3.5.3

	#real version
	setenv PETSC_ARCH hecate-intel-mt

	#cplx version
	setenv PETSC_ARCH hecate-intel-mt-complex

4. compile code
	make OPT=1 RL=1 MAX_PTS=25
	make OPT=1 COM=1 MAX_PTS=25
	make 3D=1 OPT=1 MAX_PTS=60

5. mesh utility
	/home/jinchen/lib/scorec/utilities

6. run a job
(1) interactive mode

	salloc --ntasks=N --ntasks-per-socket=6 -t 00:30:00
        srun -n P your_exe

        Note N>=P and N should be in blocks of 6 

(2) batch mode

	#!/bin/bash
        # parallel job running on 16 ranks 
        # Note that your jobs has to be scheduled in blocks of 6 cores only.
        # For instance, if you need 16 cores, then ask for 18.
	#SBATCH --ntasks=18
	#SBATCH --ntasks-per-socket=6
	#SBATCH -t 00:30:00
	#SBATCH --mail-type=END
	#SBATCH --mail-user=your_email

	module load mpt/intel

	#2D complex
	srun -n 8 ./m3dc1_2d_complex -pc_factor_mat_solver_package mumps

	#2D real
	srun -n 8 ./m3dc1_2d

	#3D real
	srun -n 16 ./m3dc1_3d -ipetsc -options_file options_bjacobi

 To submit job, do

	sbatch batch_script

 To delete job, do 
 
 	scancel job_id
  
7. To list all curent jobs for a user

      	squeue -u your_id

