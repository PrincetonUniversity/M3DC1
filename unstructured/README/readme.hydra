Sun Apr 12 22:41:24 EDT 2015

1. login 
	ssh your_id@gate.rzg.mpg.de
        ssh hydra

2. code

3. module load

module load cmake
module load subversion
module load matlab
module load idl
module load petsc-real/3.5.2  OR module load petsc-cplx
module load fftw
module load gsl
module load hdf5-mpi
setenv M3DC1_ROOT /hydra/u/m3dc1/m3dc1/svn/trunk/
setenv M3DC1_ARCH "hydra"
setenv M3DC1_INSTALL_DIR /hydra/u/m3dc1/m3dc1/svn/trunk/m3dc1_installed
setenv LD_LIBRARY_PATH $LD_LIBRARY_PATH\:/u/system/SLES11/soft/intel1/14.0/mkl/lib/intel64:/u/system/SLES11/soft/gsl/1.16/lib

4. compile code
	make OPT=1 RL=1 MAX_PTS=25
	make OPT=1 COM=1 MAX_PTS=25
	make 3D=1 OPT=1 MAX_PTS=60

5. mesh utility
        /hydra/u/m3dc1/scorec/utilities

6. run jobscript
	# @ shell=/bin/bash
	#
	# Sample script for LoadLeveler
	#
	# @ error = job.err.$(jobid)
	# @ output = job.out.$(jobid)
	# @ job_type = parallel
	# @ node_usage= not_shared
	# @ node = 6
	# @ tasks_per_node = 12
	# @ resources = ConsumableCpus(1)
	# @ network.MPI = sn_all,not_shared,us
	# @ wall_clock_limit = 24:00:00
	# @ notification = complete
	# @ notify_user = your_email
	# @ queue 

	# run the program

	cd /u/${USER}/your_work_dir

        #2D complex
        poe m3dc1_2d_complex -pc_factor_mat_solver_package mumps

        #2D real
        poe m3dc1_2d
 
        #3D real
        poe m3dc1_3d -ipetsc -options_file options_bjacobi
