1. login 
	ssh your_id@perseus-amd.princeton.edu

2. code

3. load modules
      module load intel/18.0/64/18.0.3.222
      module load intel-mpi/intel/2018.3/64
      module load git
      module load gsl
      module load hdf5/intel-17.0/intel-mpi/1.10.0
      module load cmake
      module load fftw/intel-16.0/intel-mpi/3.3.4
      unsetenv I_MPI_HYDRA_BOOTSTRAP

4. compile code
	2D real: make OPT=1 ARCH=perseusamd
	2D complex: make OPT=1 COM=1 ARCH=perseusamd
            - add PAR=1 to run PIC
	3D real: make 3D=1 OPT=1 MAX_PTS=60 ARCH=perseusamd
        
5. mesh utility
        /projects/M3DC1/scorec/intel18.0-mpi2018.3/petsc3.12.4/bin

6. run a job 
    for details, see http://www.princeton.edu/researchcomputing/computational-hardware/perseus/user-guidelines

6.1 interactive mode
    # num_proc = N*T
    salloc --nodes=N --ntasks-per-node=T -t hh:mm:ss
    module load intel/17.0/64/17.0.5.239 openmpi gsl/2.4
    srun m3dc1_3d -ipetsc -options_file options_bjacobi

6.2 batch mode

  sample job_script
        #2D complex
            mpirun -n 28 m3dc1_2d_complex -pc_factor_mat_solver_type mumps
            mpirun -n 28 m3dc1_2d_complex
        #2D real with petsc
            mpirun -n 28 m3dc1_2d -pc_factor_mat_solver_type mumps
            mpirun -n 28 m3dc1_2d
        #3D real with petsc
            mpirun -n 448 m3dc1_3d -ipetsc -options_file options_bjacobi

  submit job

  list all curent jobs for a user
	top

  delete a job
