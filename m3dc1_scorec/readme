// ========================================
// INSTALLATION WITHOUT SIMMETRIX ON PPPL
// ========================================

// 1. install Zoltan

$tar xvf /p/tsc/m3dc1/lib/SCORECLib/rhel6/Zoltan_v3.8.tar
$cd Zoltan_v3.8

$setenv PREFIX your_zoltan_install_dir
$setenv PARMETIS_DIR your_parmetis_install_dir
  (ex) /p/tsc/m3dc1/lib/SCORECLib/rhel6/petsc-3.7.6/real-intel2015-openmpi1.10.3-gcc4.4.7
$mkdir build
$cd build
$../configure -prefix=$PREFIX -with-parmetis -with-parmetis-incdir="$PARMETIS_DIR/include"  -with-parmetis-libdir="$PARMETIS_DIR/lib" CC=mpicc CXX=mpicxx CXXCPP='mpicxx -E' --enable-mpi --disable-examples --with-gnumake
$make everything
$make install

// 2. install PUMI
$tar xvf /p/tsc/m3dc1/lib/SCORECLib/rhel6/pumi-072019.tar 
$cd pumi
modify portal-openmpi-1.10.3-config.sh as needed
 (ex) PREFIX - your_pumi_install_dir
      PARMETIS_DIR - your_parmetis_install_dir
      ZOLTAN_DIR - your_zoltan_install_dir
$mkdir build
$cd build
$../portal-openmpi-1.10.3-config.sh 
$make install

// 3. install m3dc1_scorec with PETSc

$tar xvf /p/tsc/m3dc1/lib/SCORECLib/rhel6/m3dc1_scorec-072019.tar 
$cd m3dc1_scorec 
modify config-files/portal-openmpi-1.10.3-real|cplx-config.sh as needed
 (ex) add -DPETSCMASTER if petsc version is 3.8.3 or higher
      PREFIX - your_m3dc1_scorec_install_dir
      PETSC_DIR - your_petsc_install_dir
      PETSC_ARCH - your_petsc_arch_dir
      HDF5_DIR - your_hfd5_parallel_dir
      PARMETIS_DIR - your_parmetis_install_dir
      ZOLTAN_DIR - your_zoltan_install_dir
      SCOREC_DIR - your_pumi_install_dir
      ENABLE_COMPLEX - ON (complex) or OFF (real) 
$mkdir build
$cd build
$../config-files/portal-openmpi-1.10.3-real|cplx-config.sh
$make install


// ===================================
//  INSTALLATION WITH SIMMETRIX
// ===================================

//   to install core-sim on SCOREC linux

  $cp /users/seol/public/tar-files/core-sim.tar .
  $tar xvf core-sim.tar
  $cd core-sim
  $cp openmpi-gcc4.4.5-config.sh config.sh
  In config.sh, edit CMAKE_INSTALL_PREFIX
  $cd build
  $../config.sh
  $make install

//   to install m3dc1_scorec

  $svn co http://redmine.scorec.rpi.edu/svn/pafs/trunk m3dc1_scorec
  $cd m3dc1_scorec
  $cp config-files/openmpi-gcc4.4.5-sim-config.sh config.sh
  In config.sh, edit SCOREC_INCLUDE_DIR, SCOREC_LIB_DIR, CMAKE_INSTALL_PREFIX
  (Note: CMAKE_INSTALL_PREFIX should be the same as that of core-sim)
  $cd build
  $../config.sh
  $make install

  ==> executable file "m3dc1_meshgen" is installed in the current "build" folder

//   to run mesh generation program

  $export LD_LIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/4.4.5:/usr/lib/x86_64-linux-gnu:/usr/local/cmake/latest/lib:/usr/local/intel/latest/lib:/usr/local/intel/mkl72/lib/32:/usr/local/lib:/usr/local/openmpi/latest/lib:/net/common/meshSim/latest/lib/x64_rhel5_gcc41:/fasttmp/seol/openmpi-gcc4.4.5-install/lib


