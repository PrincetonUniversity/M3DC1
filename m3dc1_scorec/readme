// ===================================
// INSTALLATION WITHOUT SIMMETRIX
// ===================================

//   to install PUMI on SCOREC linux

  svn co http://redmine.scorec.rpi.edu/svn/pumi/trunk pumi

  $cd pumi
  $cp openmpi-gcc4.4.5-config.sh config.sh
  In config.sh, edit CMAKE_INSTALL_PREFIX
  $cd build
  $../config.sh
  $make install

//   to install m3dc1_scorec with PETSc

  $svn co http://redmine.scorec.rpi.edu/svn/pafs/trunk m3dc1_scorec
  $cd m3dc1_scorec
  $cp config-files/openmpi-gcc4.4.5-config.sh config.sh
  In config.sh, edit SCOREC_INCLUDE_DIR, SCOREC_LIB_DIR, CMAKE_INSTALL_PREFIX
  (Note: CMAKE_INSTALL_PREFIX should be the same as that of core-sim)
  $cd build
  $../config.sh
  $make install

  Note: 
    - CMAKE_INSTALL_PREFIX should be the same as that of PUMI
    - to install m3dc1_scorec with Trilinos, set ENABLE_TRILINOS to ON

// to compile a test program with petsc
Set -DENABLE_TESTING=ON OR

#openmpi@SCOREC
/usr/local/openmpi/latest/bin/mpicc ../test/solver/main.cc -o solver  -DDEBUG -DM3DC1_PETSC -I/usr/local/openmpi/latest/include  -I/lore/seol/petsc-3.5.4/real-openmpi1.6.5/include -I/lore/seol/petsc-3.5.4/include -I/lore/seol/openmpi-gcc4.4.5-install/include -Wl,--start-group,-rpath,/lore/seol/openmpi-gcc4.4.5-install/lib -L/lore/seol/openmpi-gcc4.4.5-install/lib -lm3dc1_scorec -lpumi -lcrv -lph -lsam -lspr -lma -lapf_zoltan -lparma -lmds -lapf -llion -lmth -lgmi -lpcu -Wl,--end-group  -L/lore/seol/openmpi-gcc4.4.5-install/lib -lzoltan -L/lore/seol/petsc-3.5.4/real-openmpi1.6.5/lib  -lpetsc -Wl,-rpath,/lore/seol/petsc-3.5.4/real-openmpi1.6.5/lib -lHYPRE -lcmumps -ldmumps -lsmumps -lzmumps -lmumps_common -lpord -lscalapack -lsuperlu_dist_3.3 -lsuperlu_4.3 -lflapack -lfblas -lparmetis -lmetis -lpthread -lssl -lcrypto -lhdf5hl_fortran -lhdf5_fortran -lhdf5_hl -lhdf5 -lz -L/usr/local/openmpi/1.6.5-ib/lib -L/usr/lib/gcc/x86_64-linux-gnu/4.4.5 -L/usr/lib/x86_64-linux-gnu -lmpi_f90 -lmpi_f77 -lgfortran -lm -lmpi_cxx -lstdc++ -L/usr/local/openmpi/1.6.5-ib/lib -L/usr/lib/gcc/x86_64-linux-gnu/4.4.5 -L/usr/lib/x86_64-linux-gnu -lmpi_cxx -lstdc++ -L/usr/local/openmpi/1.6.5-ib/lib -L/usr/lib/gcc/x86_64-linux-gnu/4.4.5 -L/usr/lib/gcc/x86_64-linux-gnu/4.4.5 -L/usr/lib/x86_64-linux-gnu -ldl -lmpi -lnuma -lrt -lnsl -lutil -lgcc_s -lpthread -ldl 

#mpich3@SCOREC
module load mpich3 gcc/4.9.2 cmake
/usr/local/mpich3/latest/bin/mpicc ../test/solver/main.cc -o solver  -std=c++0x -DDEBUG -DM3DC1_PETSC -I/usr/local/mpich3/latest/include  -I/lore/seol/petsc-3.7.6/include -I/lore/seol/petsc-3.7.6/real-mpich3/include -I/lore/seol/mpich3-gcc4.9.2-install/include -Wl,--start-group,-rpath,/lore/seol/mpich3-gcc4.9.2-install/lib -L/lore/seol/mpich3-gcc4.9.2-install/lib -lm3dc1_scorec -lpumi -lcrv -lph -lsam -lspr -lma -lapf_zoltan -lparma -lmds -lapf -llion -lmth -lgmi -lpcu -lzoltan -Wl,--end-group -L/lore/seol/petsc-3.7.6/real-mpich3/lib -Wl,-rpath,/lore/seol/petsc-3.7.6/real-mpich3/lib -L/usr/local/mpich3/3.1.2-thread-multiple/lib -L/usr/local/gcc/4.9.2/lib/gcc/x86_64-linux-gnu/4.9.2 -L/usr/local/gcc/4.9.2/lib64 -L/usr/local/gcc/4.9.2/lib -Wl,-rpath,/usr/local/mpich3/3.1.2-thread-multiple/lib -lpetsc -lparmetis -lmetis -lscalapack -lfftw3_mpi -lfftw3 -lf2clapack -lf2cblas -lptesmumps -lptscotch -lptscotcherr -lscotch -lscotcherr -lnetcdf -lhdf5hl_fortran -lhdf5_fortran -lhdf5_hl -lhdf5 -lz -lmpifort -lgfortran -lm -lgfortran -lm -lquadmath -lstdc++ -lm -lrt -lm -lpthread -lz -L/usr/local/mpich3/3.1.2-thread-multiple/lib -L/usr/local/gcc/4.9.2/lib/gcc/x86_64-linux-gnu/4.9.2 -L/usr/local/gcc/4.9.2/lib64 -L/usr/local/gcc/4.9.2/lib -ldl -Wl,-rpath,/usr/local/mpich3/3.1.2-thread-multiple/lib -lmpi -lrt -lpthread -lgcc_s -ldl 

// 2D
/usr/local/openmpi/latest/bin/mpirun -np 4 ./solver ../test/AnalyticModel ../test/1K-4part/part.smb 1
/usr/local/openmpi/latest/bin/mpirun -np 4 ./solver ../test/AnalyticModel ../test/12K-4part/part.smb 1

// 3D
/usr/local/openmpi/latest/bin/mpirun -np 12 ./solver ../test/AnalyticModel ../test/12K-4part/part.smb 3

//  to compile test program on Edison with Trilinos
CC ../test/create_smb/show_meshcount.cc -o show_meshcount -DDEBUG -I/global/project/projectdirs/mp288/edison/scorec/Apr2016-mpich7.2.5/include -I/opt/cray/petsc/3.5.2.1/real/INTEL/140/sandybridge/include -Wl,--start-group,-rpath,/global/project/projectdirs/mp288/edison/scorec/Apr2016-mpich7.2.5/lib -L/global/project/projectdirs/mp288/edison/scorec/Apr2016-mpich7.2.5/lib -lcrv -ldsp -lph -lsize -lsam -lspr -lma -lapf_zoltan -lparma -lmds -lapf -llion -lmth -lgmi -lpcu -lm3dc1_scorec_trilinos -Wl,--end-group -L/opt/cray/trilinos/11.10.1.0/INTEL/140/sandybridge/lib -lzoltan -Wl,-rpath,/opt/cray/petsc/3.5.2.1/real/INTEL/140/sandybridge/lib -L/opt/cray/tpsl/1.4.3/INTEL/140/sandybridge/lib -lparmetis -lmetis -lpthread -lssl -lcrypto -Wl,-rpath,/opt/cray/hdf5-parallel/1.8.11/intel/130/lib -L/opt/cray/hdf5-parallel/1.8.11/intel/130/lib -lhdf5hl_fortran -lhdf5_fortran -lhdf5_hl -lhdf5 -ldl -lstdc++


// ===================================
//  INSTALLATION WITH SIMMETRIX
// ===================================

//   to install core-sim on SCOREC linux

  $cp /users/seol/public/tar-files/core-sim.tar .
  $tar xvf core-sim.tar
  $cd core-sim
  $cp openmpi-gcc4.4.5-config.sh config.sh
  In config.sh, edit CMAKE_INSTALL_PREFIX
  $cd build
  $../config.sh
  $make install

//   to install m3dc1_scorec

  $svn co http://redmine.scorec.rpi.edu/svn/pafs/trunk m3dc1_scorec
  $cd m3dc1_scorec
  $cp config-files/openmpi-gcc4.4.5-sim-config.sh config.sh
  In config.sh, edit SCOREC_INCLUDE_DIR, SCOREC_LIB_DIR, CMAKE_INSTALL_PREFIX
  (Note: CMAKE_INSTALL_PREFIX should be the same as that of core-sim)
  $cd build
  $../config.sh
  $make install

  ==> executable file "m3dc1_meshgen" is installed in the current "build" folder

//   to run mesh generation program

  $export LD_LIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/4.4.5:/usr/lib/x86_64-linux-gnu:/usr/local/cmake/latest/lib:/usr/local/intel/latest/lib:/usr/local/intel/mkl72/lib/32:/usr/local/lib:/usr/local/openmpi/latest/lib:/net/common/meshSim/latest/lib/x64_rhel5_gcc41:/fasttmp/seol/openmpi-gcc4.4.5-install/lib


